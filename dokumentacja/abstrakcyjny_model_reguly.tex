\section{Abstrakcyjny model reguły}
Kluczowym elementem całego rozwiązania jest model, w oparciu o który narzędzia dostępne w bibliotece OpenNLP będą dokonywały analizy reguł. By przygotować taki model konieczne jest dostarczenie dobrej jakości próbki uczącej, która weźmie udział w procesie jego trenowania. 
\\
Przygotowanie próbki rozpocznę od opracowania schematu reguły. Oczekuję, że system prawidłowo rozpozna poszczególne składowe każdej reguły, która będzie z nim zgodna. 


Na początek wypiszę sobie kilka przykładowych reguł walidacyjnych.
\\ \\
\fbox{\begin{minipage}{40em}
		
		\begin{enumerate}
		\item Jeśli wiek\_pacjenta jest większy od 18 wtedy zgłoś błąd ,,Pacjent jest osobą dorosłą.'', w przeciwnym wypadku
		wyświetl komunikat ,,Pacjent został zakwalifikowany do leczenia pediatrycznego.''.
		\item Jeśli data\_kwalifikacji jest jest mniejsza od '01-01-2019' wtedy zgłoś wyjątek ,,Data sprzed roku 2019.'', w przeciwnym wypadku sprawdź regułę RS-001. 
		\item Gdy saldo\_rachunku jest większe od 100 oraz saldo\_rachunku jest mniejsze niż 1000 wtedy wyświetl komunikat ,,Saldo rachunku jest prawidłowe.'', w przeciwnym razie zgłoś błąd ,,Nieprawidłowe saldo rachunku''.
		\item Jeśli data\_teraz jest niewiększa niż data\_ważności wyświetl komunikat ,,Wniosek jest aktualny.'' w przeciwnym wypadku zgłaszaj błąd ,,Wniosek utracił ważność''.
	\end{enumerate}
	
\end{minipage}}
\\ \\

%\textunderbrace{Ala ma kota}{warunek}
%\textunderbrace{Text \textoverbrace{text}{aaa} text text}{bbb}

%\bigskip

%\emph{\textunderbrace{Text \textoverbrace{text}{aaa} text text}{bbb}}

%tesr\newline\\

Przyjmuję uproszczenie, że każda rozpoznawana reguła składała się będzie z trzech wyróżnialnych bloków:
\\ \\
\fbox{\begin{minipage}{40em}
\[
\underbrace{WARUNKI}  \underbrace{AKCJA\_TAK}  \underbrace{(AKCJA\_NIE)?}
\]
%S\label{fig:test}test
\end{minipage}}
\\ \\

Poszczególne bloki oddzielone będą od siebie słowami kluczowymi oznaczającymi rozpoczęcie i zakończenie bloku. \\

W celu ich wyróżnienia wprowadzam następujące oznaczenia:
\begin{enumerate}
	\item SK\_SW - Start sekcji warunku
	\item SK\_KW - Koniec sekcji warunku
	\item SK\_SAN - Start sekcji akcji wykonywanej przy niespełnionym warunku
\end{enumerate}
Schemat reguły przyjmuje następującą postać:
\\ \\
\fbox{\begin{minipage}{40em}
		\[
		\underbrace{SK\_SW} \underbrace{WARUNEK} \underbrace{SK\_KW} \underbrace{AKCJA\_TAK}  (\underbrace{SK\_SAN}\underbrace{AKCJA\_NIE)?}
		\]
		
\end{minipage}}
\\ \\

Powyższy schemat można odnieść do przykładowej reguły:
\\ \\
\fbox{\begin{minipage}{40em}
			\[
		\textunderbrace{Jeśli}{SK\_SW} 			 
		\]
		\[
		\textunderbrace{data jest jest mniejsza od '01-01-2019' lub data jest większa niż '01-06-2019'}{WARUNEK} 		 
		\]
		\[
		\textunderbrace{wtedy}{SK\_KW} 		
		\]
		\[ 		
		\textunderbrace{zgłoś wyjątek ,,Data spoza dopuszczonego przedziału.''}{AKCJA\_TAK}		
		\]
			\[		
		\textunderbrace{w przeciwnym wypadku }{SK\_SAN} 	
		\]
		\[			
		\textunderbrace{sprawdź regułę RS-001.}{AKCJA\_NIE} 
		\]
		
\end{minipage}}
\\ \\

\paragraph{}
Ponieważ kluczowe jest właściwe rozpoznanie sekcji warunku, chciałbym wyłączyć go przed nawias i przez chwilę skupić się wyłącznie na nim. 

%In Figure \ref{fig:test} we see a beautiful duck!